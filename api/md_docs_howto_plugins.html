<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>roviz: ---</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">roviz
   &#160;<span id="projectnumber">0.7</span>
   </div>
   <div id="projectbrief">Code Documentation of roviz</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">--- </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>How to write plugins</h1>
<p>In roviz, all items you see in the application are in fact plugins. If you want to write your own plugin, you can execute the <code>new_project.sh</code> script. You only need to provide it with a class name for your new item and it should automatically create a plugin based on a template for you. We'll shortly go through the most important concepts that you need to know for writing a plugin:</p>
<ul>
<li><a href="api/classInput">Inputs</a>/<a href="api/classOutput">Outputs</a>: Every plugin has inputs and outputs. An item will receive data from its inputs, process it and push it out to its outputs. Use <code>this-&gt;addInput</code> and <code>this-&gt;addOutput</code> to add new inputs and outputs. See <a href="api/classRovizItem.html#afcd27ad4355d3587146b151c4cb33316">RovizItem::addInput</a>, <a href="api/classRovizItem.html#ad03f1d6df2224dbc60de41a349e93120">RovizItem::addOutput</a>, <a href="api/classInput">Input</a> and <a href="api/classOutput">Output</a> for more information.</li>
<li><a href="api/classConfig.html">Config</a>{:target="_blank"}: Every plugin can have several configs. Use <code>this-&gt;addConfig</code> to add a new config. See the documentation of <a href="api/classRovizItem.html#ab0fe5ae3fd158766638e240a32b6cf24">RovizItem::addConfig</a>{:target="_blank"} and <a href="api/classConfig.html">Config</a>{:target="_blank"} for more information.</li>
<li><a href="api/classTrim.html">Trim</a>{:target="_blank"}: You can also have trim values that will be modifyable on-the-fly with sliders. Use <code>this-&gt;addTrim</code> to add a <a href="api/classTrim.html">Trim</a>{:target="_blank"}. See <a href="api/classRovizItem.html#a48d5019e8f6d844bb1ef044220a11579">RovizItem::addTrim</a>{:target="_blank"} and <a href="api/classTrim.html">Trim</a>{:target="_blank"} for more information.</li>
<li><a href="api/classRovizItem.html#a1b918d10740f07c0fd4413613dc8d966">thread</a>{:target="_blank"}: Every plugin must implement the <a href="api/classRovizItem.html#a1b918d10740f07c0fd4413613dc8d966">thread</a>{:target="_blank"} function. This function will be started in a new thread once the item is started. This is where most of your code should be. Make sure you properly use <a href="api/classRovizItem.html#a304c79d6131a1a69bcda815da90116f4">RovizItem::wait</a>{:target="_blank"}, <a href="api/classRovizItem.html#a5bfb83bc1a42c9b9b10047303558eff1">RovizItem::waitFor</a>{:target="_blank"}, <a href="api/classRovizItem.html#ac99aa127f4342884c1b258988f8b4f56">RovizItem::waitForCond</a>{:target="_blank"}, <a href="api/classInput.html#a6699337de72c8e63b5a104c795b3c0cb">Input::waitForInput</a>{:target="_blank"}, or <a href="api/classRovizItem.html#a4e183b49c423e0c0710ee9d0ad1a914d">RovizItem::running</a>{:target="_blank"}! They make sure that the start/pause/stop mechanism works properly. See their documentation to find out which one to use in which situation.</li>
<li><a href="api/classRovizItem.html#a370512cfe690c6312731a229863d1eaf">starting</a>{:target="_blank"}: If you do any initialization apart from <a href="api/classInput">Inputs</a>/<a href="api/classOutput">Outputs</a>, <a href="api/classConfig.html">Configs</a>{:target="_blank"} and <a href="api/classTrim.html">Trims</a>{:target="_blank"}, you should do it in a function called <a href="api/classRovizItem.html#a370512cfe690c6312731a229863d1eaf">starting</a>{:target="_blank"} that will be called before <a href="api/classRovizItem.html#a1b918d10740f07c0fd4413613dc8d966">thread</a>{:target="_blank"} and not in the constructor to make sure the item has a clean state every time it gets re-run.</li>
<li><a href="api/classImage.html">Image</a>{:target="_blank"}: The most important class for image processing plugins. Use <a href="api/classOutput.html#a3c79386c4c00167843c0530fb402b6c1">Output::pushOut</a>{:target="_blank"} to push out images and pass them to the next item. <b>DO NOT MODIFY THE IMAGE DATA AFTER YOU PUSHED IT OUT!</b> roviz does never copy image data for performance reasons, so you must not access the memory of the image once its pushed out, as the following items of the pipeline will use the same memory location. There are also other types available that can be pushed out. Currently, the following are available:<ul>
<li><a href="api/classImage.html">Image</a>{:target="_blank"}</li>
<li><a href="api/classMessage.html">Message</a>{:target="_blank"}</li>
<li><a href="api/classSparse.html">Sparse</a>{:target="_blank"}</li>
</ul>
</li>
</ul>
<p>Once you've finished writing your plugin, just run <code>qmake</code> and <code>make</code> again in the root folder and your plugin should build. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Sep 12 2017 15:13:49 for roviz by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
