<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>roviz: ---</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">roviz
   &#160;<span id="projectnumber">0.7</span>
   </div>
   <div id="projectbrief">Code Documentation of roviz</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">--- </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>What streams are and how to create your own</h1>
<p>Streams describe the connection between two items. For example, the main stream of the roviz framework is the image stream. It transports objects of type <a href="api/classImage.html">Image</a>{:target="_blank"} from one item to another. If you would like to transport your own type with a stream, all you have to do is the following:</p>
<ol type="1">
<li>Create a class for your transport type</li>
<li>Make it publically inherit from <a href="api/classStreamObject.html">StreamObject</a>{:target="_blank"} (<code><a class="el" href="stream__object_8h_source.html">streams/stream_object.h</a></code>)</li>
<li>Add a <code>static QWidget *initWidget(<a class="el" href="classOutputPrivate.html" title="Private part of the Ouput class. ">OutputPrivate</a> *out);</code> function This function should return a pointer to a <a href="https://doc.qt.io/qt-5/qwidget.html">QWidget</a>{:target="_blank"} that will be displayed in the shared window for this stream. If you do not want do display anything, just return <code>nullptr</code>. Make sure you enclose it with a <code>#ifndef ROVIZ_BACKEND == ROVIZ_BACKEND_Dev ... #endif</code> block, because that part only works with the 'Dev' backend. The <code>out</code> parameter refers to the output that will be associated with this stream. You should should use it to call <code><a class="el" href="classOutputPrivate.html#a9505e803f1853948a2b7c995b71986fd" title="Connects an input to this output. ">OutputPrivate::connect</a></code> to get notified when new data should be displayed (see <a href="api/classOutputPrivate.html#a9505e803f1853948a2b7c995b71986fd">OutputPrivate::connect</a>).</li>
<li>Add your class to <code>usercore/include/streams/template_decl.h</code> There are some functions in the core that accept stream types as template parameters. We have to ensure that those functions are instantiated with every stream type. This is done by macros, all you have to do is to add your class to the <code>DO_FOR_ALL_STREAMS</code> macro in <code><a class="el" href="template__decl_8h_source.html">usercore/include/core/template_decl.h</a></code>. Also make sure that you declare your class in that file (<code>class YourClass;</code>), just like the existing streams do.</li>
<li>Choose a color Every stream is identified by a connection color. You can set that color by adding your class to the color table in the <code>usercore/src/backend_dev/startup_init.cpp</code> file. The color is a <a href="http://doc.qt.io/qt-5/qcolor.html">QColor</a>, see the Qt documentation for that.</li>
<li>Include your class in <code><a class="el" href="all__streams_8h_source.html">usercore/include/streams/all_streams.h</a></code> If a file needs to include all stream object it will include <code><a class="el" href="all__streams_8h_source.html">streams/all_streams.h</a></code>. Just add a line where you include the header of your class.</li>
</ol>
<p>Now you're ready to go! Rebuild roviz with <code>qmake</code> and <code>make</code>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Sep 12 2017 15:13:49 for roviz by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
